{"title":"Files solutions","markdown":{"headingText":"Files solutions","containsRefs":false,"markdown":"\nBefore looking at these solutions keep in mind that there are many different ways to do the same thing in R. Therefore if your scripts are different than the ones below it does not mean they are wrong. As long as they produce the intended output they are correct.\n\n## Bats solution\n```{r, fig.align = 'center',out.width= '20%', echo=FALSE }\nknitr::include_graphics(path = \"figures/bat.png\", auto_pdf = TRUE)\n```\n\nRead in the file as a __data frame__:\n```{r eval=FALSE}\nbat_df <- read.csv(\"Chapter_8_files/bat_roosts.csv\", row.names = 1, check.names = FALSE)\n```\n\nAdd a row with column totals:\n```{r eval=FALSE}\nbat_df[\"UK\",] <- colSums(bat_df) \n```\n\nAdd a column with row totals:\n```{r eval=FALSE}\nbat_df$All_Bat_Species <- rowSums(bat_df) \n```\n\nCreate transposed __data frame__:\n```{r eval=FALSE}\nbat_t_df <- as.data.frame(t(bat_df)) \n```\n\n__Write__ file:\n```{r eval=FALSE}\nwrite.table(bat_t_df, \n            file = \"Chapter_8_files/bat_roosts_t.csv\", \n            sep = \",\", quote = FALSE, col.names = NA)\n```\n\n## UK retail solution\n```{r, fig.align = 'center',out.width= '20%', echo=FALSE }\nknitr::include_graphics(path = \"figures/UKPounds.png\", auto_pdf = TRUE)\n``` \n\nRead in file:\n```{r eval=FALSE}\nuk_retail_df <- read.csv(\"Chapter_8_files/UK_retail.tsv\", \n                         sep = \"\\t\", row.names = 1, \n                         check.names = FALSE)\n```\n\nCreate 2020 __data frame__:\nRead in file:\n```{r eval=FALSE}\n#Can index to get the desired columns\nuk_retail_2020_df <- uk_retail_df[29:37,]\n#Alternatively the tail() function can be used\n#It is like head() but will get lowest rows\nuk_retail_2020_df <- tail(uk_retail_df, n = 9)\n```\n\nPrint food index phrases:\n```{r eval=FALSE}\npaste(\"The Food retail index for\", row.names(uk_retail_2020_df),\n      \"was\", uk_retail_2020_df$Food, \n      sep = \" \")\n```\n\nTotal and mean rows:\n```{r eval=FALSE}\nuk_retail_2020_df[\"Total\",] <- colSums(uk_retail_2020_df)\nuk_retail_2020_df[\"Average\",] <- colMeans(head(uk_retail_2020_df, n = 9))\n```\n\nWrite out file:\n```{r eval=FALSE}\nwrite.table(uk_retail_2020_df, \"Chapter_8_files/UK_retail_2020.tsv\", \n            sep = \"\\t\", col.names = NA, quote = FALSE)\n```\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"09-Files_solutions.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.0.35","editor":"source","theme":"cosmo","max-width":"3000px","toc-location":"left","toc-title":"In this chapter","margin":0,"page-layout":"full"},"extensions":{"book":{"multiFile":true}}}}}